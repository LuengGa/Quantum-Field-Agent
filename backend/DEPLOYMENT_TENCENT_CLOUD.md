# ğŸ¢ è…¾è®¯äº‘éƒ¨ç½²æŒ‡å—

## ğŸ“‹ ç›®å½•

1. [æ¶æ„æ¦‚è§ˆ](#æ¶æ„æ¦‚è§ˆ)
2. [å‡†å¤‡å·¥ä½œ](#å‡†å¤‡å·¥ä½œ)
3. [æ–¹æ¡ˆä¸€ï¼šè½»é‡åº”ç”¨æœåŠ¡å™¨](#æ–¹æ¡ˆä¸€è½»é‡åº”ç”¨æœåŠ¡å™¨)
4. [æ–¹æ¡ˆäºŒï¼šäº‘æœåŠ¡å™¨CVM](#æ–¹æ¡ˆäºŒäº‘æœåŠ¡å™¨cvm)
5. [CloudBaseå‰ç«¯æ‰˜ç®¡](#cloudbaseå‰ç«¯æ‰˜ç®¡)
6. [åŸŸåå’ŒSSLé…ç½®](#åŸŸåå’Œsslé…ç½®)
7. [ç›‘æ§é…ç½®](#ç›‘æ§é…ç½®)
8. [è¿ç»´å‘½ä»¤](#è¿ç»´å‘½ä»¤)

---

## ğŸ—ï¸ æ¶æ„æ¦‚è§ˆ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        è…¾è®¯äº‘æ¶æ„                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚   ç”¨æˆ·       â”‚ â”€â”€â†’ â”‚   CDN         â”‚ â”€â”€â†’ â”‚   Nginx      â”‚    â”‚
â”‚  â”‚              â”‚     â”‚   (å…¨çƒ)      â”‚     â”‚   (SSL)      â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                  â”‚              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚                    Docker Compose                    â”‚      â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚      â”‚
â”‚  â”‚  â”‚ Backend â”‚  â”‚ Redis   â”‚  â”‚  Prometheus    â”‚    â”‚      â”‚
â”‚  â”‚  â”‚ :8000   â”‚  â”‚ :6379   â”‚  â”‚  :9090          â”‚    â”‚      â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚      â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚      â”‚
â”‚  â”‚  â”‚ Grafana â”‚  â”‚  Loki   â”‚  â”‚  Promtail       â”‚    â”‚      â”‚
â”‚  â”‚  â”‚ :3000   â”‚  â”‚ :3100   â”‚  â”‚  :9080          â”‚    â”‚      â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚                          â”‚                                     â”‚
â”‚                          â–¼                                     â”‚
â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                          â”‚
â”‚              â”‚   SQLite/PostgreSQL â”‚                          â”‚
â”‚              â”‚   (æœ¬åœ°æˆ–äº‘æ•°æ®åº“)    â”‚                          â”‚
â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                          â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      CloudBase å‰ç«¯æ‰˜ç®¡                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                    é™æ€å‰ç«¯                             â”‚   â”‚
â”‚  â”‚  - Vue3 ç®¡ç†ç•Œé¢                                        â”‚   â”‚
â”‚  â”‚  - å®æ—¶æ•°æ®å±•ç¤º                                          â”‚   â”‚
â”‚  â”‚  - WebSocket è¿æ¥åç«¯                                   â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                          â”‚                                      â”‚
â”‚                          â–¼                                      â”‚
â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                           â”‚
â”‚              â”‚   å…¨çƒCDNåŠ é€Ÿ        â”‚                           â”‚
â”‚              â”‚   (å…è´¹é¢åº¦)         â”‚                           â”‚
â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“¦ å‡†å¤‡å·¥ä½œ

### 1. è…¾è®¯äº‘è´¦å·

```bash
# æ³¨å†Œè…¾è®¯äº‘è´¦å·
# https://cloud.tencent.com/register

# å®åè®¤è¯ (å¿…éœ€)
# æ§åˆ¶å° â†’ è´¦å·ä¸­å¿ƒ â†’ å®åè®¤è¯
```

### 2. å®‰è£…è…¾è®¯äº‘CLI

```bash
# macOS
brew install tccli

# Linux
pip install tccli

# éªŒè¯
tccli configure
# é…ç½® SecretId å’Œ SecretKey
# https://console.cloud.tencent.com/cam/capi
```

### 3. å®‰è£…Docker

```bash
# Ubuntu
curl -fsSL https://get.docker.com | sh
sudo usermod -aG docker $USER

# éªŒè¯
docker --version
docker-compose --version
```

---

## ğŸ’» æ–¹æ¡ˆä¸€ï¼šè½»é‡åº”ç”¨æœåŠ¡å™¨ (æ¨è)

é€‚åˆï¼šä¸ªäºº/å°å›¢é˜Ÿï¼Œæœˆä»˜ Â¥20-50

### 1. è´­ä¹°å®ä¾‹

```bash
# ä½¿ç”¨æ§åˆ¶å°æˆ–CLI
# æ¨èé…ç½®ï¼š
# - åœ°åŸŸï¼šä¸Šæµ·/å¹¿å·
# - å®ä¾‹ï¼š2æ ¸ 4GB
# - ç³»ç»Ÿï¼šUbuntu 22.04 LTS
# - å¸¦å®½ï¼š5Mbps
```

### 2. è¿æ¥æœåŠ¡å™¨

```bash
# SSHè¿æ¥
ssh root@ä½ çš„æœåŠ¡å™¨IP

# å¯†ç ç™»å½• (é¦–æ¬¡)
ssh root@118.89.50.XXX
```

### 3. éƒ¨ç½²åº”ç”¨

```bash
# 1. å®‰è£…Docker
curl -fsSL https://get.docker.com | sh

# 2. å…‹éš†é¡¹ç›®
git clone https://github.com/ä½ çš„ç”¨æˆ·å/quantum-field-agent.git
cd quantum-field-agent/backend

# 3. é…ç½®ç¯å¢ƒå˜é‡
cat > .env << EOF
DATABASE_TYPE=sqlite
SECRET_KEY=your-secure-secret-key
LOG_LEVEL=INFO
EOF

# 4. å¯åŠ¨æœåŠ¡
chmod +x deploy_tencent.sh
./deploy_tencent.sh local

# 5. éªŒè¯
curl http://localhost:8000/health
```

### 4. å¼€æ”¾ç«¯å£

```bash
# åœ¨è…¾è®¯äº‘æ§åˆ¶å° â†’ è½»é‡åº”ç”¨æœåŠ¡å™¨ â†’ é˜²ç«å¢™
å¼€æ”¾ç«¯å£ï¼š
- 80 (HTTP)
- 443 (HTTPS)
- 22 (SSH)
```

---

## ğŸ–¥ï¸ æ–¹æ¡ˆäºŒï¼šäº‘æœåŠ¡å™¨CVM

é€‚åˆï¼šéœ€è¦æ›´é«˜é…ç½®/å¼¹æ€§ä¼¸ç¼©

### 1. è´­ä¹°CVM

```bash
# ä½¿ç”¨æ§åˆ¶å°
# æ¨èé…ç½®ï¼š
# - åœ°åŸŸï¼šä¸Šæµ· (ä½å»¶è¿Ÿ)
# - å®ä¾‹ï¼šS5.2XLARGE4 (8æ ¸ 16GB)
# - ç³»ç»Ÿï¼šUbuntu 22.04 LTS
# - å­˜å‚¨ï¼š100GB SSD
# - å¸¦å®½ï¼š5Mbps
```

### 2. é…ç½®å®‰å…¨ç»„

```bash
# è…¾è®¯äº‘æ§åˆ¶å° â†’ CVM â†’ å®‰å…¨ç»„
å…¥ç«™è§„åˆ™ï¼š
- TCP 80, 443 (HTTP/HTTPS)
- TCP 22 (SSH)
- TCP 3000 (Grafana)
- TCP 9090 (Prometheus)
```

### 3. å®Œæ•´éƒ¨ç½²

```bash
# 1. å®‰è£…Dockerå’ŒDocker Compose
curl -fsSL https://get.docker.com | sh
pip install docker-compose

# 2. å…‹éš†é¡¹ç›®
git clone https://github.com/ä½ çš„ç”¨æˆ·å/quantum-field-agent.git
cd quantum-field-agent/backend

# 3. é…ç½®ç¯å¢ƒå˜é‡
cat > production.env << EOF
DATABASE_TYPE=postgresql
DATABASE_URL=postgresql://user:pass@host:5432/mqa
REDIS_HOST=redis
SECRET_KEY=your-very-secure-secret-key
LOG_LEVEL=INFO
TAG=v4.0.0
EOF

# 4. å¯åŠ¨ç”Ÿäº§ç¯å¢ƒ
docker-compose -f docker-compose.tencent.yml up -d

# 5. æ£€æŸ¥çŠ¶æ€
docker-compose -f docker-compose.tencent.yml ps
```

---

## â˜ï¸ CloudBase å‰ç«¯æ‰˜ç®¡

### 1. å®‰è£…CLI

```bash
# å®‰è£…
npm install -g @cloudbase/cli

# ç™»å½•
tcb login
```

### 2. åˆ›å»ºç¯å¢ƒ

```bash
# è…¾è®¯äº‘æ§åˆ¶å° â†’ CloudBase â†’ åˆ›å»ºç¯å¢ƒ
# åç§°ï¼šquantum-field-frontend
# åœ°åŸŸï¼šä¸Šæµ·
```

### 3. éƒ¨ç½²å‰ç«¯

```bash
cd ../frontend

# åˆå§‹åŒ–
tcb init

# éƒ¨ç½²
tcb hosting:deploy . --envId quantum-field-frontend
```

### 4. ç»‘å®šè‡ªå®šä¹‰åŸŸå

```bash
# è…¾è®¯äº‘æ§åˆ¶å° â†’ CloudBase â†’ é™æ€æ‰˜ç®¡ â†’ è®¾ç½®
# æ·»åŠ è‡ªå®šä¹‰åŸŸå
# ä¸Šä¼ SSLè¯ä¹¦
```

---

## ğŸ”’ åŸŸåå’ŒSSLé…ç½®

### 1. è´­ä¹°åŸŸå

```bash
# è…¾è®¯äº‘ â†’ åŸŸåæ³¨å†Œ
# æ¨èï¼š.cn æˆ– .com
```

### 2. ç”³è¯·SSLè¯ä¹¦

```bash
# è…¾è®¯äº‘ â†’ SSLè¯ä¹¦ â†’ ç”³è¯·è¯ä¹¦
# ç±»å‹ï¼šå…è´¹DVè¯ä¹¦
# åŸŸåï¼šapi.yourdomain.com
```

### 3. é…ç½®HTTPS

```bash
# 1. ä¸‹è½½è¯ä¹¦
# 2. ä¸Šä¼ åˆ°æœåŠ¡å™¨
mkdir -p /etc/nginx/ssl
ä¸Šä¼  cert.pem å’Œ private.key

# 3. é‡å¯Nginx
docker-compose exec nginx nginx -s reload
```

---

## ğŸ“Š ç›‘æ§é…ç½®

### è®¿é—®ç›‘æ§

```bash
# Grafana (ç”¨æˆ·å: admin, å¯†ç : admin)
http://your-domain:3000

# Prometheus
http://your-domain:9090

# å¥åº·æ£€æŸ¥
http://your-domain/health
```

### é…ç½®å‘Šè­¦

```bash
# è…¾è®¯äº‘ â†’ äº‘ç›‘æ§ â†’ åˆ›å»ºå‘Šè­¦ç­–ç•¥
# è§¦å‘æ¡ä»¶ï¼š
# - CPUä½¿ç”¨ç‡ > 80%
# - å†…å­˜ä½¿ç”¨ç‡ > 85%
# - ç£ç›˜ä½¿ç”¨ç‡ > 90%
```

---

## ğŸ”§ è¿ç»´å‘½ä»¤

```bash
# æŸ¥çœ‹æ—¥å¿—
./deploy_tencent.sh logs backend
./deploy_tencent.sh logs nginx
./deploy_tencent.sh logs postgres

# é‡å¯æœåŠ¡
./deploy_tencent.sh local

# æ‰©ç¼©å®¹
./deploy_tencent.sh scale 4  # æ‰©å±•åˆ°4ä¸ªå®ä¾‹

# å›æ»š
./deploy_tencent.sh rollback v3.0.0

# å¤‡ä»½
./deploy_tencent.sh backup

# å¥åº·æ£€æŸ¥
./deploy_tencent.sh health
```

---

## ğŸ’° è´¹ç”¨é¢„ä¼°

| æœåŠ¡ | å…è´¹é¢åº¦ | æœˆè´¹ |
|------|---------|------|
| è½»é‡åº”ç”¨æœåŠ¡å™¨ (2æ ¸4G) | - | Â¥30 |
| æµé‡ (10Mbps) | - | Â¥50 |
| CloudBaseé™æ€æ‰˜ç®¡ | âœ“ | Â¥0 |
| åŸŸå (.cn) | - | Â¥5 |
| SSLè¯ä¹¦ | âœ“ | Â¥0 |
| **æ€»è®¡** | - | **Â¥85/æœˆ** |

---

## ğŸš€ å¿«é€Ÿéƒ¨ç½²

```bash
# ä¸€é”®éƒ¨ç½² (éœ€è¦å·²é…ç½®ç¯å¢ƒ)
./deploy_tencent.sh build
./deploy_tencent.sh local

# éªŒè¯éƒ¨ç½²
curl http://localhost:8000/health
```

**éƒ¨ç½²æˆåŠŸï¼** ğŸ‰

---

## ğŸ“ è·å–å¸®åŠ©

- é¡¹ç›®æ–‡æ¡£: `/backend/README.md`
- APIæ–‡æ¡£: `/backend/evolution/api_docs.py`
- æµ‹è¯•: `./deploy_tencent.sh test`
